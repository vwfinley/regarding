\section{Constructive Solution}

\subsection{Drawing Point $p_s$}

\begin{figure}
	\centering
	\input{python/draw/output/fig1.tikz}
	\caption{\\Establishing $p_s$}
	\label{fig:fig_f1}
\end{figure}

Begin the drawing as shown in Figure \ref{fig:fig_f1}.

On a blank screen or page, draw a horizontal line.
Next draw a second line at some slope, from $0\degree$ to $3\degree$, to the horizontal line.
The second line is the wheel tread.

Mark the point where the horizontal line and wheel tread line intersect.
Label the point $p_s$.
Point $p_s$ is the point where the wheel fillet ends and the wheel tread begins. 

Now assign label $\theta_s$, to the slope angle between the horizontal line and the wheel tread line.

Finally, draw a line thru $p_s$ and at right angles to the tread line.


\subsection{Drawing Point $p_1$}
Refer to Figure \ref{fig:fig_f2}.

Sweep an arc, of radius $R1$, centered at point $p_s$.
The arc will intersect the line, that passes through $p_s$ and is at right angles to the tread.
Mark the intersection and label it point $p_1$.

\begin{figure}
	\centering
	\input{python/draw/output/fig2.tikz}
	\caption{\\Locating $p_1$}
	\label{fig:fig_f2}
\end{figure}


\subsection{Drawing Point $p_g$}
Refer to Figure \ref{fig:fig_f3}.

Draw a new horizontal line.
The new horizontal line should be parallel to the original horizontal line from Figure \ref{fig:fig_f1}.
It should be a distance $P$ below the original horizontal line.
The Distance $P$ is given by the RP-25 document.

Now sweep an arc, of radius $R1$, centered at point $p_1$.
The arc should pass thru point $p_s$.
Mark the location where the arc intersects the new horizontal line.
Label the intersection point $p_g$.

\begin{figure}
	\centering
	\input{python/draw/output/fig3.tikz}
	\caption{\\Locating $p_g$}
	\label{fig:fig_f3}
\end{figure}

\subsection{Drawing axes}
Refer to Figure \ref{fig:fig_f4}.

\begin{figure}
	\centering
	\input{python/draw/output/fig4.tikz}
	\caption{\\Establishing coordinate system}
	\label{fig:fig_f4}
\end{figure}

\begin{figure}
	\centering
	\input{python/draw/output/fig5.tikz}
	\caption{\\Locating $p_2$}
	\label{fig:fig_f5}
\end{figure}

\begin{figure}
	\centering
	\input{python/draw/output/fig6.tikz}
	\caption{\\Drawing R2}
	\label{fig:fig_f6}
\end{figure}

\begin{figure}
	\centering
	\input{python/draw/output/fig7.tikz}
	\caption{\\Drawing vertical guidelines}
	\label{fig:fig_f7}
\end{figure}

\begin{figure}
	\centering
	\input{python/draw/output/fig8.tikz}
	\caption{\\Locating $p_3$}
	\label{fig:fig_f8}
\end{figure}

\begin{figure}
	\centering
	\input{python/draw/output/fig9.tikz}
	\caption{\\Drawing R3}
	\label{fig:fig_f9}
\end{figure}

\begin{figure*}
	\centering
	\input{python/draw/output/fig10.tikz}
	\caption{\\Completing Tread}
	\label{fig:fig_f10}
\end{figure*}







\begin{figure}
%%	\centering

	\begin{subfigure}{.5\textwidth}
		\centering
		\input{python/draw/output/fig11a.tikz}
		\caption{\\Locating $p_1$}
		\label{fig:fig_f11a}
	\end{subfigure}

	\vspace{1cm}

	\begin{subfigure}{.5\textwidth}
		\centering
		\input{python/draw/output/fig11b.tikz}
		\caption{\\Locating $p_g$}
		\label{fig:fig_f11b}
	\end{subfigure}

	\vspace{1cm}

	\begin{subfigure}{.5\textwidth}
		\centering
		\input{python/draw/output/fig11c.tikz}
		\caption{\\Locating $p_2$}
		\label{fig:fig_f11c}
	\end{subfigure}

	\vspace{1cm}

	\begin{subfigure}{.5\textwidth}
		\centering
		\input{python/draw/output/fig11d.tikz}
		\caption[short]{\\Locating $p_3$ and $p_d$}
		\label{fig:fig_f11d}
	\end{subfigure}
	\caption{Locating critical points analytically}
	\label{fig:fig_f11}
\end{figure}







\section{Analytical Solution}

Discovering the equations for critical points will enable us to calculate precise locations.
Our strategy will be to:
\begin{enumerate}
	\item Identify a series of right triangles that contain pairs of critical points.
	\item Apply trigonometry to find the sides of those right triangles.
	\item Use the right triangle sides to locate cartesian coordinates for the critical points.
\end{enumerate}

\subsection{Right triangle with points $p_s$ and $p_1$}
Figure \ref{fig:fig_f11a} shows a right triangle containing vertices at points $p_s$ and $p_1$.
Point $p_s$ is the location where the wheel tread begins, and $p_1$ is the center of the fillet arc whose radius is $R1$.


Let's label the lengths of the horizontal and vertical sides, $x_s$ and $y_s$ respectively.

Since the hypotenuse of length $R1$ is at right angles to the tread slope, the angle between vertical side $y_s$ and hypotenuse $R1$ is the slope angle $\theta_s$.

Therefore, the lengths of sides $x_s$ and $y_s$ can be found as follows:

\begin{equation}
	\label{eqn:x_s}
	x_s = R1 \cdot \sin(\theta_s)
\end{equation}

\begin{equation}
	\label{eqn:y_s}
	y_s = R1 \cdot \cos(\theta_s)
\end{equation}



\subsection{Right triangle with points $p_1$ and $p_g$}
Figure \ref{fig:fig_f11b} shows a right triangle containing vertices at points $p_1$ and $p_g$.
Point $p_g$ is the gage point.
Furthermore, $p_1$ is the center of the fillet arc whose radius is $R1$.

The hypotenuse of the triangle has length $R1$.
Let's label the lengths of the horizontal and vertical sides, $x_g$ and $y_g$ respectively.

Returning to figure \ref{fig:fig_f11a} we see $p_1$ is a distance $y_s$ below point $p_s$, where the wheel tread begins.
Since point $p_g$ is a distance $P$ below point $p_s$, it is can be seen that $y_s = y_g + P$ and: 

\begin{equation}
	\label{eqn:y_g}
	y_g = y_s - P
\end{equation}

Now that $y_g$ is known, we can use the Pythagorean theorem to find $x_g$:

\begin{equation}
	\label{eqn:x_g}
	x_g = \sqrt{(R1)^2 - y_g^2}
\end{equation}

Let's assign the label $\theta_g$ to the angle between side $x_g$ and hypotenuse $R1$.
The angle $\theta_g$ can be found easily with:

\begin{equation}  
	\label{eqn:theta_g}
	\theta_g = \arccos \left( \frac{x_g}{R1} \right)   
\end{equation}


\subsection{Right triangle with points $p_g$ and $p_2$}

Figure \ref{fig:fig_f11c} shows a right triangle containing vertices at points $p_g$ and $p_2$.

Point $p_g$ is the gage point.
Point $p_2$ is at the center of the wheel flange arc whose radius is $R2$.
Let's label the horizontal and vertical sides $x_2$ and $y_2$ respectively.

The hypotenuse is length $R2$. 

The angle between side $x_2$ and hypotenuse $R2$ is the same $\theta_g$ value found by equation \ref{eqn:theta_g}, such that:

\begin{equation}
	\label{eqn:x_2}
	x_2 = R2 \cdot \cos(\theta_g)
\end{equation}

And:

\begin{equation}
	\label{eqn:y_2}
	y_2 = R2 \cdot \sin(\theta_g)
\end{equation}


\subsection{Right triangle with points $p_2$ and $p_d$}
Figure \ref{fig:fig_f11d} shows a right triangle containing vertices at points $p_2$ and $p_d$.

Point $p_2$ is the center of the flange arc whose radius is $R2$.
Point $p_d$ is the bottom of the flange where the two flange halves intersect.
Let's label the lengths of the horizontal and vertical sides $x_d$ and $y_d$ respectively.

The hypotenuse is of length $R2$.

From figure \ref{fig:fig_f10} we can see the horizontal distance $x_2$, found in equation \ref{eqn:x_2}, is just a distance $x_d$ to the right of $T/2$.
In other words: $x_2 = T/2 + x_d$

Therefore we can write:

\begin{equation}
	\label{eqn:x_d}
	x_d = x_2 - T/2
\end{equation}

Using the Pythagorean theorem we can find the vertical distance $y_d$ as follows:

\begin{equation}
	\label{eqn:y_d}
	y_d = \sqrt{(R2)^2 - x_d^2}
\end{equation}

Now the horizontal distance of $p_3$ from $p_2$ is just twice the distance $x_d$:

\begin{equation}
	\label{eqn:x_3}
	x_3 = 2 \cdot x_d
\end{equation}

Since $p_3$ is at the same vertical coordinate as $y_2$, the vertical distance $y_3$ is zero.
\begin{equation}
	\label{eqn:y_3}
	y_3 = 0
\end{equation}



\subsection{Locating the points}

We have found the series of right-triangles that connect the points.
In doing so we have found distances between points on the triangles.
However, the point locations are only relative to each other.

Ultimately we desire to reference all points to a common origin.
By referencing all points to a common origin, calculating the actual point locations on a coordinate system becomes possible.

Let's begin by choosing the gage point $p_g$ to be the origin, such that $p_g$ will always be at coordinate (0, 0).
\begin{equation}
	\label{eqn:p_g}
	\boxed{
		p_g = (0, 0)
	}
\end{equation}


From Figure \ref{fig:fig_f11b} we see point $p_1$ is left of and below $p_g$ distances of $x_g$ and $y_g$ respectively.
\begin{equation}
	\label{eqn:p_1}
	\boxed{
		p_1 = (-x_g, -y_g)
	}
\end{equation}


In Figure \ref{fig:fig_f11a} point $p_s$ is relative to $p_1$ a distance $x_s$ to the right, and distance $y_s$ above.
Since, in equation \ref{eqn:p_1}, $p_1$ is relative to the origin at $(-x_g, -y_g)$, $p_s$ shall be relative to the origin at: 
\begin{equation}
	\label{eqn:p_s}
	\boxed{
		p_s = (x_s - x_g, y_s - y_g)
	}
\end{equation}

In Figure \ref{fig:fig_f11c} it is seen that point $p_2$ is right of $p_g$ a distance $x_2$, and above $p_g$ a distance $y_2$.
Therefore relative to $p_g$ at the the origin, $p_2$ is located at:
\begin{equation}
	\label{eqn:p_2}
	\boxed{
		p_2 = (x_2, y_2)
	}
\end{equation}

Figure \ref{fig:fig_f11c} shows point $p_d$ to the left of and below $p_2$ distances of $x_d$ and $y_d$ respectively.
Relative to $p_g$ at the origin, point $p_d$ is located at:
\begin{equation}
	\label{eqn:p_d}
	\boxed{
		p_d = (x_2 - x_d, y_2 - y_d)
	}
\end{equation}

The point $p_3$ shown in figure \ref{fig:fig_f11c} is a distance $x_3 = 2 \cdot x_d$ to the left of $p_2$.
Its y-coordinate is the same as the y-coordinate of $p_2$.
Therefore relative to $p_g$ at the origin, $p_3$ is at: 
\begin{equation}
	\label{eqn:p_3}
	\boxed{
		p_3 = (x_2 - x_3, y_2)
	}
\end{equation}

Figure \ref{fig:fig_f11d} shows length $d'$ ghosted.
Length $d'$ is the true flange depth.
It is just the vertical distance from point $p_s$, where the tread slope begins, down to the flange bottom at $p_d$.

Length $d'$ is equal to the distance $P$ (vertical distance down from $p_s$ to $p_g$), minus 
distance $y_2$ (vertical distance up from $p_g$ to $p_2$), plus distance $y_d$ (vertical distance down from $p_2$ down to $p_d$).
\begin{equation}
	\label{eqn:d_prime}
	\boxed{
		d' = P - y_2 + y_d
	}
\end{equation}

Compare $d'$ against the $D'$ value given by the RP-25 document.
Keep in mind the $D'$ is the maximum depth allowed by RP-25.

\subsection{Taper}

\section{Analytic }

%Tables
\input{python/table/output/table.tex}

	
