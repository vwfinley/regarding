\section{OpenSSH Client}
It is important to keep in mind that SSH (Secure SHell) is a protocol.
The implementation of the protocol has a client and server associated with it.

OpenSSH client should already be installed on Windows 11 by default.
Earlier Windows versions may have it disabled.

If OpenSSH is unavailable on your laptop, search the internet on how to enable or install it.

The best way to verify if OpenSSH client is available is to enter the following at the Windows CMD prompt:
\begin{verbatim}
$ ssh
$ where ssh
\end{verbatim}

As part of OpenSSH support for Windows, ssh-keygen and ssh-copy-id commandline utilities are probably bundled in.


\subsection{Initial SSH remote login}
In the previous section, you enabled the SSH service on the remote VM named alpha.
Let's test the connection!

\begin{itemize}
  \item On your laptop, open a Windows command shell and do the commands below.
  \item When prompted "Are you sure you want to continue connecting" enter "yes".
  \item Then enter your password for alpha.
\end{itemize}


\begin{verbatim}
C:\Users\vfinl>ssh vfinley@alpha

The authenticity of host 'alpha (10.0.0.246)' can't be established.
ED25519 key fingerprint is SHA256:YTJSgWrfm9oppwq+vtpskrQjk0hPw80dJ8xzBAfacOI.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes

Warning: Permanently added 'alpha' (ED25519) to the list of known hosts.

vfinley@alpha's password:
Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 6.8.0-57-generic x86_64)

Expanded Security Maintenance for Applications is not enabled.

0 updates can be applied immediately.
\end{verbatim}


\subsection{Check BASH shell response}

Congratulations, you are SSH'd into alpha!
To verify everything is working, enter "ls" at the BASH shell prompt.
Inspect contents of your user directory, it should contain Desktop, Documents, etc. as shown below.

\begin{verbatim}
vfinley@alpha:~$ ls
Desktop  Documents  Downloads  Music  Pictures
  Public  snap  ssh  Templates  Videos
\end{verbatim}

Now exit the shell by entering exit.

\begin{verbatim}
vfinley@alpha:~$ exit
\end{verbatim}

\subsection{Generate Key}
SSH secures authenticaion and communication by using a public+private key pair.
Using the key pair makes it convenient since you won't need to login everytime you connect to the remote alpha VM.

You wil need to:
\begin{itemize}
  \item Create the key pair.
  \item Save the pair to your laptop.
  \item Then give the public key to the remote VM named alpha (Ubuntu Desktop). 
\end{itemize}

When asked for a fil in which to save the key, hit Enter to save it to the default location.
When creating the key pair you can set an optional password (or leave it blank) when asked for a passphrase.
If you set a passphrase you will prompted for it once a session when making connections.

Here's how do generate a keypair and copy it to the remote VM named alpha.
On the laptop, at the Windows CMD prompt do the following:
\begin{verbatim}
C:\Users\vfinl> ssh-keygen
Generating public/private ed25519 key pair.
Enter file in which to save the key (C:\Users\vfinl/.ssh/id_ed25519):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in C:\Users\vfinl/.ssh/id_ed25519
Your public key has been saved in C:\Users\vfinl/.ssh/id_ed25519.pub
The key fingerprint is:
SHA256:rp5oKbld4wp4biuWaVsnoALpThqM2x16ud5Poty4xnY vfinl@victor
The key's randomart image is:
+--[ED25519 256]--+
|                 |
|                 |
|                 |
| .               |
|o   .   S        |
|=  o . .         |
|+=o==o+ =        |
|+*XXAO.B .       |
|o*XOYBB..        |
+----[SHA256]-----+


C:\Users\vfinl>  cd C:\Users\vfinl\.ssh

C:\Users\vfinl\.ssh> ssh-copy-id -i id_ed25519.pub vfinley@alpha
Install public key.
Test connection

# In GitBASH terminal
vfinl@victor MINGW64 ~
$ ssh-copy-id -i ~/.ssh/id_ed25519.pub vfinley@alpha
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/c/Users/vfinl/.ssh/id_ed25519.pub"
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
vfinley@alpha's password:

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'vfinley@alpha'"
and check to make sure that only the key(s) you wanted were added.

vfinl@victor MINGW64 ~
$ ssh vfinley@alpha
Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 6.8.0-57-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

Expanded Security Maintenance for Applications is not enabled.

35 updates can be applied immediately.
15 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

9 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm

New release '24.04.2 LTS' available.
Run 'do-release-upgrade' to upgrade to it.

Last login: Mon May  5 06:49:56 2025 from 192.168.56.1

\end{verbatim}
