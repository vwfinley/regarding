Notes for C-003
Regarding Container Images for LaTeX
July 2025

\section{devcontainer}

TODO: WRITE ME SOON14!

\begin{verbatim}

Base containers
Developed here:
https://github.com/microsoft/vscode-dev-containers

Published here:
https://mcr.microsoft.com/en-us/artifact/mar/devcontainers/base/

Also published here:
https://hub.docker.com/r/microsoft/vscode-devcontainers

Other language specific containers:


https://wiki.debian.org/TeXLive
https://www.baeldung.com/linux/install-latex

Opportunity to use GitHub actions (pipelines)
GitHub -> container repository/artifact
How to use the container.
  - .devcontainer configuration
  - call on commandline
  - call inside container
  - setup in pipeline

vscode âžœ /workspaces/regarding/C/C-002 (main) $ sudo tlmgr update --all
(running on Debian, switching to user mode!)
(see /usr/share/doc/texlive-base/README.tlmgr-on-Debian.md)
TLPDB: not a directory, not loading: /root/texmf
tlmgr: user mode not initialized, please read the documentation!

https://tug.org/texlive/quickinstall.html


    1  cd /tmp
    2  wget https://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
    4  zcat < install-tl-unx.tar.gz | tar xf - # note final - on that command line
    5  cd install-tl-2*
    6  sudo perl ./install-tl --scheme=basic --no-interaction --no-doc-install --no-src-install


# Create new dev container
- In VSCode Ctrl+Shift+P
- Search for: "Dev Containers: New Dev Container..."
- Pick Latex
- Wait a few mins while container image downloads and installs 


```
# https://linux.how2shout.com/install-tex-live-on-ubuntu-20-04-lts-a-free-typesetting-system/
# https://www.linuxfordevices.com/tutorials/ubuntu/fix-unable-to-acquire-the-dpkg-frontend-lock

FROM ghcr.io/jmuchovej/devcontainers/latex:2024

USER root
RUN sudo su
RUN dpkg --configure -a
RUN apt update
#RUN apt-get install -y texlive-full
RUN apt-get install -y texlive

USER vscode

```
- Search for: "Dev Containers: Add Dev Container Configuration Files..."
- Select Alpine
- Select 3.20 (default)
- At prompt to "Select additional features to install" search for Latex.
- Select "Latex Workshop", click OK
- Select "Configure Options"
- Choose "full"
- When prompted to Provide a custom mirror, just hit Enter
- Include optional file .GitHub/dependabot.yml
- .devcontainer/devcontainer.json will be created.
- Click on blue button "Reopen in Container"
- Wait a f


Write with focus on GoLang.  Save the LaTeX container mods for another article C-002.

\end{verbatim}

Regarding Container Images for LaTeX
- Existing Images
- Devcontainer (microsoft), Alpine, RedHat UBI
- texlive
- tlmgr package manager
- Build pipeline GitHub/GitLab
- Publish to registry (Dockerhub)
- Running/Using from commandline to host .
- Using as devcontainer in VSCode
- Using container in pipeline
- https://tug.org/texlive/
- https://tug.org/texlive/doc/texlive-en/texlive-en.html












# texlive
TexLive Container Image

https://docs.github.com/en/actions

https://docs.docker.com/build/ci/github-actions/

https://www.geeksforgeeks.org/git/github-actions/

https://github.com/orgs/community/discussions/25692

https://github.com/marketplace/actions/docker-login

https://www.geeksforgeeks.org/git/introduction-to-github-actions/

https://github.com/marketplace/actions/build-and-push-docker-images

https://www.geeksforgeeks.org/devops/build-docker-image-in-github-actions/

https://github.com/marketplace/actions/docker-build-and-push-multi-platform-and-registry

https://docs.github.com/en/actions/how-tos/manage-runners/self-hosted-runners/add-runners

https://www.geeksforgeeks.org/devops/how-to-create-a-basic-ci-workflow-using-github-actions/

https://stackoverflow.com/questions/63148639/create-dependencies-between-jobs-in-github-actions
https://www.howtogeek.com/devops/how-to-get-started-with-githubs-new-docker-container-registry/

https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/use-variables

https://stackoverflow.com/questions/75733616/github-actions-how-to-call-a-reusable-workflow-as-a-step

https://medium.com/@deepak1812002/get-started-with-github-ghcr-an-alternative-of-dockerhub-f7d5b2198b9a

https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry

https://docs.github.com/en/actions/tutorials/authenticate-with-github_token#using-the-github_token-in-a-workflow

https://www.bing.com/videos/riverview/relatedvideo?q=browse+ghcr.io&mid=638351869D0BB7F5FC14638351869D0BB7F5FC14&FORM=VIRE

https://stackoverflow.com/questions/59175332/using-output-from-a-previous-job-in-a-new-one-in-a-github-action

https://docs.github.com/en/actions/reference/workflows-and-actions/workflow-syntax#jobsjob_idoutputs

https://docs.github.com/en/actions/reference/workflows-and-actions/workflow-syntax#jobsjob_idoutputs

https://stackoverflow.com/questions/57819539/how-to-share-a-calculated-value-between-job-steps

https://stackoverflow.com/questions/63467662/github-actions-define-workflow-level-environment-variable-between-jobs

https://github.com/orgs/community/discussions/88772

https://github.com/orgs/community/discussions/25692

https://docs.github.com/en/actions/reference/workflows-and-actions/events-that-trigger-workflows#release

https://docs.github.com/en/actions/how-tos/manage-workflow-runs?tool=cli

https://medium.com/@sangeetv09/understanding-more-about-event-triggers-event-filters-and-activity-types-in-github-actions-8bfaec5b101e

https://stackoverflow.com/questions/75733616/github-actions-how-to-call-a-reusable-workflow-as-a-step

https://docs.github.com/en/actions/reference/workflows-and-actions/workflow-syntax



Sections:                                                               usage
                                                scratch   extended    | from_host from_.devcontainer 
                                               Dockerfile Dockerfile    Script    
"ghcr.io/jmuchovej/devcontainers/latex:2025"                 x                        x
Official                                                                   ?       
"ghcr.io/vwfinley/latex:1.0.0                     x                        x           
"ghcr.io/vwfinley/latex_dev:1.0.0                            x             x         x

Using
Extending
Creating

                      Build    Run         Run                Extend                     Push
                      Img      Container   script from        from
                               x           host/container     .devcontainer/Dockerfile 
jmuchovej                      x           x                  x
texlive/texlive                x           x                  ?  
vwfinley/latex          x      x           x                  x                           x
vwfinley/latex_dev      x      x           x                                              x

https://hub.docker.com/r/texlive/texlive

Workflow
Pull > Run from host      > Build  > Push
     > Run from Container
     > Extend
       > .devcontainer
       > Dockerfile

Two approaches:
Automation is the goal

PreBuilt Workflow:

Pull > Use > Extend > Build > Push
  ^     ^---------------|       |
  |-----------------------------|  gray

Pull:
  Find container and pull
Use:
  from_host
  from_container
Extend:
  from_devcontainer.json
  from_dockerfile
Build:
  from_host script
  from_vscode
Push:
  optional

SelfBuilt Workflow:
Two containers: latex and latex_dev

Pull > Extend > Build > Test > Push
  ^      ^----------------|     |
  |-----------------------------|

Pull:
  Select base container
Extend:
  Dockerfile
Build:
  from_host Script
  pipeline automation/runners
Test/Use:
  from_host
  from_container
Push:
  Publishing to registry


